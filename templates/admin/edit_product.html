{% extends 'admin_base.html' %}
{% block title %}{{ _('Edit Product') }}{% endblock %}

{% block admin_content %}

<h2 class="mb-4 text-center">{{ _('Edit Product') }}</h2>

{% if errors %}
  <div class="alert alert-danger">
    <ul>
      {% for field, messages in errors.items() %}
        <li>{{ field }}: {{ messages | join(', ') }}</li>
      {% endfor %}
    </ul>
  </div>
{% endif %}

{% with messages = get_flashed_messages(with_categories=true) %}
  {% if messages %}
    <div class="alert alert-info mt-4">
      {% for category, message in messages %}
        <p>{{ message }}</p>
      {% endfor %}
    </div>
  {% endif %}
{% endwith %}

<form method="POST" enctype="multipart/form-data"
      action="{{ url_for('admin.edit_product', product_id=product.id) }}"
      class="bg-white p-4 rounded shadow-sm">

  {% include 'shared/product_form.html' with context %}
</form>

{% endblock %}
